(()=>{var e={};e.id=685,e.ids=[685],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33054:(e,r,t)=>{"use strict";t.d(r,{C:()=>a});var s=t(37413);function a({message:e}){return(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full max-w-md text-sm",children:["success"in e&&(0,s.jsx)("div",{className:"text-green-500 border-l-2 px-4",children:e.success}),"error"in e&&(0,s.jsx)("div",{className:"text-red-500 border-l-2 px-4",children:e.error}),"message"in e&&(0,s.jsx)("div",{className:"text-foreground border-l-2 px-4",children:e.message})]})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40919:(e,r,t)=>{"use strict";t.d(r,{SubmitButton:()=>i});var s=t(60687),a=t(29523),o=t(51215);function i({children:e,pendingText:r="Submitting...",...t}){let{pending:i}=(0,o.useFormStatus)();return(0,s.jsx)(a.$,{type:"submit","aria-disabled":i,...t,children:i?r:e})}},44636:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=t(65239),a=t(48088),o=t(88170),i=t.n(o),n=t(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let l={children:["",{children:["dashboard",{children:["reset-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,56909)),"C:\\Users\\carlo\\OneDrive\\Documents\\JavaScript\\blogsite_carlo\\src\\app\\dashboard\\reset-password\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\carlo\\OneDrive\\Documents\\JavaScript\\blogsite_carlo\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\carlo\\OneDrive\\Documents\\JavaScript\\blogsite_carlo\\src\\app\\dashboard\\reset-password\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/reset-password/page",pathname:"/dashboard/reset-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},54781:(e,r,t)=>{"use strict";t.d(r,{SubmitButton:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call SubmitButton() from the server but SubmitButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\carlo\\OneDrive\\Documents\\JavaScript\\blogsite_carlo\\src\\components\\submit-button.tsx","SubmitButton")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55630:(e,r,t)=>{Promise.resolve().then(t.bind(t,78148)),Promise.resolve().then(t.t.bind(t,85814,23)),Promise.resolve().then(t.bind(t,40919)),Promise.resolve().then(t.bind(t,52041))},56909:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(37413),a=t(66628),o=t(33054),i=t(84916),n=t(54781),d=t(78593),l=t(77243);async function c(e){let r=await e.searchParams;return"message"in r?(0,s.jsx)("div",{className:"flex h-screen w-full flex-1 items-center justify-center p-4 sm:max-w-md",children:(0,s.jsx)(o.C,{message:r})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background px-4 py-8",children:(0,s.jsx)("div",{className:"w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-sm",children:(0,s.jsxs)("form",{className:"flex flex-col space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2 text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:"Reset password"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Please enter your new password below."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"password",className:"text-sm font-medium",children:"New password"}),(0,s.jsx)(d.p,{id:"password",type:"password",name:"password",placeholder:"New password",required:!0,className:"w-full"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(l.J,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm password"}),(0,s.jsx)(d.p,{id:"confirmPassword",type:"password",name:"confirmPassword",placeholder:"Confirm password",required:!0,className:"w-full"})]})]}),(0,s.jsx)(n.SubmitButton,{formAction:a.hx,pendingText:"Resetting password...",className:"w-full",children:"Reset password"}),(0,s.jsx)(o.C,{message:r})]})})})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66628:(e,r,t)=>{"use strict";t.d(r,{Iu:()=>b,Kd:()=>f,Lz:()=>c,RX:()=>l,_K:()=>g,bW:()=>h,hx:()=>p,jH:()=>m,jN:()=>u});var s=t(67218);t(79130);var a=t(70512),o=t(44999),i=t(39916),n=t(13538),d=t(17478);let l=async e=>{let r=e.get("email")?.toString(),t=e.get("password")?.toString(),s=e.get("full_name")?.toString()||"",i=await (0,n.U)(),d=(await (0,o.b3)()).get("origin");if(!r||!t)return(0,a.r)("error","/sign-up","Email and password are required");let{data:{user:l},error:c}=await i.auth.signUp({email:r,password:t,options:{emailRedirectTo:`${d}/auth/callback`,data:{full_name:s,email:r}}});if(console.log("After signUp",c),c)return console.error(c.code+" "+c.message),(0,a.r)("error","/sign-up",c.message);if(l)try{let{error:e}=await i.from("users").insert({id:l.id,name:s,full_name:s,email:r,user_id:l.id,token_identifier:l.id,created_at:new Date().toISOString()});e&&console.error("Error updating user profile:",e)}catch(e){console.error("Error in user profile creation:",e)}return(0,a.r)("success","/sign-up","Thanks for signing up! Please check your email for a verification link.")},c=async e=>{let r=e.get("email"),t=e.get("password"),s=await (0,n.U)(),{error:o}=await s.auth.signInWithPassword({email:r,password:t});return o?(0,a.r)("error","/sign-in",o.message):(0,i.redirect)("/dashboard")},u=async e=>{let r=e.get("email")?.toString(),t=await (0,n.U)(),s=(await (0,o.b3)()).get("origin"),d=e.get("callbackUrl")?.toString();if(!r)return(0,a.r)("error","/forgot-password","Email is required");let{error:l}=await t.auth.resetPasswordForEmail(r,{redirectTo:`${s}/auth/callback?redirect_to=/protected/reset-password`});return l?(console.error(l.message),(0,a.r)("error","/forgot-password","Could not reset password")):d?(0,i.redirect)(d):(0,a.r)("success","/forgot-password","Check your email for a link to reset your password.")},p=async e=>{let r=await (0,n.U)(),t=e.get("password"),s=e.get("confirmPassword");t&&s||(0,a.r)("error","/protected/reset-password","Password and confirm password are required"),t!==s&&(0,a.r)("error","/dashboard/reset-password","Passwords do not match");let{error:o}=await r.auth.updateUser({password:t});o&&(0,a.r)("error","/dashboard/reset-password","Password update failed"),(0,a.r)("success","/protected/reset-password","Password updated")},f=async()=>{let e=await (0,n.U)();return await e.auth.signOut(),(0,i.redirect)("/sign-in")},m=async e=>{let r=await (0,n.U)(),{data:{user:t}}=await r.auth.getUser();if(!t)return(0,a.r)("error","/sign-in","You must be logged in to create content");let s=e.get("title")?.toString(),o=e.get("content")?.toString(),i=e.get("contentType")?.toString()||"blog",d=e.get("excerpt")?.toString(),l=e.get("featuredImage")?.toString(),c="true"===e.get("published"),u=e.getAll("categories").map(e=>e.toString()),p=s?.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"";if(!s||!o)return(0,a.r)("error","/dashboard","Title and content are required");let{data:f,error:m}=await r.from("posts").insert({title:s,content:o,slug:p,excerpt:d,featured_image:l,published:c,content_type:i,author_id:t.id,published_at:c?new Date().toISOString():null}).select().single();if(m)return console.error("Error creating post:",m),(0,a.r)("error","/dashboard",m.message);if(u.length>0&&f){let e=u.map(e=>({post_id:f.id,category_id:e})),{error:t}=await r.from("post_categories").insert(e);t&&console.error("Error adding categories:",t)}return(0,a.r)("success","/dashboard","Content created successfully")},g=async e=>{let r,t=await (0,n.U)(),{data:{user:s}}=await t.auth.getUser();if(!s)return(0,a.r)("error","/sign-in","You must be logged in to update content");let o=e.get("id")?.toString(),i=e.get("title")?.toString(),d=e.get("content")?.toString(),l=e.get("contentType")?.toString(),c=e.get("excerpt")?.toString(),u=e.get("featuredImage")?.toString(),p="true"===e.get("published"),f=e.getAll("categories").map(e=>e.toString());if(i&&(r=i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")),!o)return(0,a.r)("error","/dashboard","Post ID is required");let{data:m,error:g}=await t.from("posts").select("*").eq("id",o).eq("author_id",s.id).single();if(g||!m)return(0,a.r)("error","/dashboard","Post not found or you don't have permission to edit it");let b={};i&&(b.title=i),d&&(b.content=d),r&&(b.slug=r),void 0!==c&&(b.excerpt=c),void 0!==u&&(b.featured_image=u),l&&(b.content_type=l),void 0!==p&&(b.published=p,p&&!m.published_at&&(b.published_at=new Date().toISOString()));let{error:h}=await t.from("posts").update(b).eq("id",o);if(h)return console.error("Error updating post:",h),(0,a.r)("error","/dashboard",h.message);if(f.length>0){await t.from("post_categories").delete().eq("post_id",o);let e=f.map(e=>({post_id:o,category_id:e})),{error:r}=await t.from("post_categories").insert(e);r&&console.error("Error updating categories:",r)}return(0,a.r)("success","/dashboard","Content updated successfully")},b=async e=>{let r=await (0,n.U)(),{data:{user:t}}=await r.auth.getUser();if(!t)return(0,a.r)("error","/sign-in","You must be logged in to delete content");let s=e.get("id")?.toString();if(!s)return(0,a.r)("error","/dashboard","Post ID is required");let{data:o,error:i}=await r.from("posts").select("*").eq("id",s).eq("author_id",t.id).single();if(i||!o)return(0,a.r)("error","/dashboard","Post not found or you don't have permission to delete it");let{error:d}=await r.from("posts").delete().eq("id",s);return d?(console.error("Error deleting post:",d),(0,a.r)("error","/dashboard",d.message)):(0,a.r)("success","/dashboard","Content deleted successfully")},h=async()=>{let e=await (0,n.U)(),{data:r,error:t}=await e.from("categories").select("*").order("name");return t?(console.error("Error fetching categories:",t),[]):r||[]};(0,d.D)([l,c,u,p,f,m,g,b,h]),(0,s.A)(l,"7f3728b92a2d78bf7a86facde23b90da1883d53144",null),(0,s.A)(c,"7f6275a1524e79c3243dc1fedf334425820e432cd4",null),(0,s.A)(u,"7f9463dc7b9a2c337fd3b73916c5b97671cb1e1d4c",null),(0,s.A)(p,"7f30afc04a541fc57d666a4122f418c7301e3cf826",null),(0,s.A)(f,"7fcb6739099b435db524b88587bd200e67af8b5da9",null),(0,s.A)(m,"7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99",null),(0,s.A)(g,"7f82ff53fd87c8683b6b50e57c297e8e38127be148",null),(0,s.A)(b,"7f20133d1175a37581b658cd5dc4f0a6d3753d65a5",null),(0,s.A)(h,"7f7e3c45e161623da7715e291486381f032f22ad1d",null)},70512:(e,r,t)=>{"use strict";t.d(r,{r:()=>a});var s=t(39916);function a(e,r,t){return(0,s.redirect)(`${r}?${e}=${encodeURIComponent(t)}`)}},74075:e=>{"use strict";e.exports=require("zlib")},77243:(e,r,t)=>{"use strict";t.d(r,{J:()=>l});var s=t(37413),a=t(61120),o=t(80734),i=t(50662),n=t(10974);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)(o.Root,{ref:t,className:(0,n.cn)(d(),e),...r}));l.displayName=o.Root.displayName},78593:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var s=t(37413),a=t(61120),o=t(10974);let i=a.forwardRef(({className:e,type:r,...t},a)=>(0,s.jsx)("input",{type:r,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));i.displayName="Input"},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},80899:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f20133d1175a37581b658cd5dc4f0a6d3753d65a5":()=>s.Iu,"7f30afc04a541fc57d666a4122f418c7301e3cf826":()=>s.hx,"7f3728b92a2d78bf7a86facde23b90da1883d53144":()=>s.RX,"7f6275a1524e79c3243dc1fedf334425820e432cd4":()=>s.Lz,"7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99":()=>s.jH,"7f7e3c45e161623da7715e291486381f032f22ad1d":()=>s.bW,"7f82ff53fd87c8683b6b50e57c297e8e38127be148":()=>s._K,"7f9463dc7b9a2c337fd3b73916c5b97671cb1e1d4c":()=>s.jN,"7fcb6739099b435db524b88587bd200e67af8b5da9":()=>s.Kd});var s=t(66628)},81630:e=>{"use strict";e.exports=require("http")},85894:(e,r,t)=>{Promise.resolve().then(t.bind(t,80734)),Promise.resolve().then(t.t.bind(t,4536,23)),Promise.resolve().then(t.bind(t,54781)),Promise.resolve().then(t.bind(t,79091))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[243,622,880,567,794,640,620,941],()=>t(44636));module.exports=s})();