exports.id=309,exports.ids=[309],exports.modules={10005:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f20133d1175a37581b658cd5dc4f0a6d3753d65a5":()=>b,"7f30afc04a541fc57d666a4122f418c7301e3cf826":()=>f,"7f3728b92a2d78bf7a86facde23b90da1883d53144":()=>c,"7f6275a1524e79c3243dc1fedf334425820e432cd4":()=>u,"7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99":()=>g,"7f7e3c45e161623da7715e291486381f032f22ad1d":()=>x,"7f82ff53fd87c8683b6b50e57c297e8e38127be148":()=>h,"7f9463dc7b9a2c337fd3b73916c5b97671cb1e1d4c":()=>p,"7fcb6739099b435db524b88587bd200e67af8b5da9":()=>m});var a=r(91199);r(42087);var s=r(90141);function o(e,t,r){return(0,s.redirect)(`${t}?${e}=${encodeURIComponent(r)}`)}var i=r(74208),n=r(30445);let d=async()=>{let e=await (0,i.UL)();return(0,n.createServerClient)("https://vlomchriquuplotggqur.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsb21jaHJpcXV1cGxvdGdncXVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1ODgxNDQsImV4cCI6MjA2NDE2NDE0NH0.qEDmkmU-_0YwZAI4r-wDVxiR5E3RVEKA_V11uvR60Is",{cookies:{getAll:()=>e.getAll().map(({name:e,value:t})=>({name:e,value:t})),setAll(t){t.forEach(({name:t,value:r,options:a})=>{e.set(t,r,a)})}}})};var l=r(33331);let c=async e=>{let t=e.get("email")?.toString(),r=e.get("password")?.toString(),a=e.get("full_name")?.toString()||"",s=await d(),n=(await (0,i.b3)()).get("origin");if(!t||!r)return o("error","/sign-up","Email and password are required");let{data:{user:l},error:c}=await s.auth.signUp({email:t,password:r,options:{emailRedirectTo:`${n}/auth/callback`,data:{full_name:a,email:t}}});if(console.log("After signUp",c),c)return console.error(c.code+" "+c.message),o("error","/sign-up",c.message);if(l)try{let{error:e}=await s.from("users").insert({id:l.id,name:a,full_name:a,email:t,user_id:l.id,token_identifier:l.id,created_at:new Date().toISOString()});e&&console.error("Error updating user profile:",e)}catch(e){console.error("Error in user profile creation:",e)}return o("success","/sign-up","Thanks for signing up! Please check your email for a verification link.")},u=async e=>{let t=e.get("email"),r=e.get("password"),a=await d(),{error:i}=await a.auth.signInWithPassword({email:t,password:r});return i?o("error","/sign-in",i.message):(0,s.redirect)("/dashboard")},p=async e=>{let t=e.get("email")?.toString(),r=await d(),a=(await (0,i.b3)()).get("origin"),n=e.get("callbackUrl")?.toString();if(!t)return o("error","/forgot-password","Email is required");let{error:l}=await r.auth.resetPasswordForEmail(t,{redirectTo:`${a}/auth/callback?redirect_to=/protected/reset-password`});return l?(console.error(l.message),o("error","/forgot-password","Could not reset password")):n?(0,s.redirect)(n):o("success","/forgot-password","Check your email for a link to reset your password.")},f=async e=>{let t=await d(),r=e.get("password"),a=e.get("confirmPassword");r&&a||o("error","/protected/reset-password","Password and confirm password are required"),r!==a&&o("error","/dashboard/reset-password","Passwords do not match");let{error:s}=await t.auth.updateUser({password:r});s&&o("error","/dashboard/reset-password","Password update failed"),o("success","/protected/reset-password","Password updated")},m=async()=>{let e=await d();return await e.auth.signOut(),(0,s.redirect)("/sign-in")},g=async e=>{let t=await d(),{data:{user:r}}=await t.auth.getUser();if(!r)return o("error","/sign-in","You must be logged in to create content");let a=e.get("title")?.toString(),s=e.get("content")?.toString(),i=e.get("contentType")?.toString()||"blog",n=e.get("excerpt")?.toString(),l=e.get("featuredImage")?.toString(),c="true"===e.get("published"),u=e.getAll("categories").map(e=>e.toString()),p=a?.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"";if(!a||!s)return o("error","/dashboard","Title and content are required");let{data:f,error:m}=await t.from("posts").insert({title:a,content:s,slug:p,excerpt:n,featured_image:l,published:c,content_type:i,author_id:r.id,published_at:c?new Date().toISOString():null}).select().single();if(m)return console.error("Error creating post:",m),o("error","/dashboard",m.message);if(u.length>0&&f){let e=u.map(e=>({post_id:f.id,category_id:e})),{error:r}=await t.from("post_categories").insert(e);r&&console.error("Error adding categories:",r)}return o("success","/dashboard","Content created successfully")},h=async e=>{let t,r=await d(),{data:{user:a}}=await r.auth.getUser();if(!a)return o("error","/sign-in","You must be logged in to update content");let s=e.get("id")?.toString(),i=e.get("title")?.toString(),n=e.get("content")?.toString(),l=e.get("contentType")?.toString(),c=e.get("excerpt")?.toString(),u=e.get("featuredImage")?.toString(),p="true"===e.get("published"),f=e.getAll("categories").map(e=>e.toString());if(i&&(t=i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")),!s)return o("error","/dashboard","Post ID is required");let{data:m,error:g}=await r.from("posts").select("*").eq("id",s).eq("author_id",a.id).single();if(g||!m)return o("error","/dashboard","Post not found or you don't have permission to edit it");let h={};i&&(h.title=i),n&&(h.content=n),t&&(h.slug=t),void 0!==c&&(h.excerpt=c),void 0!==u&&(h.featured_image=u),l&&(h.content_type=l),void 0!==p&&(h.published=p,p&&!m.published_at&&(h.published_at=new Date().toISOString()));let{error:b}=await r.from("posts").update(h).eq("id",s);if(b)return console.error("Error updating post:",b),o("error","/dashboard",b.message);if(f.length>0){await r.from("post_categories").delete().eq("post_id",s);let e=f.map(e=>({post_id:s,category_id:e})),{error:t}=await r.from("post_categories").insert(e);t&&console.error("Error updating categories:",t)}return o("success","/dashboard","Content updated successfully")},b=async e=>{let t=await d(),{data:{user:r}}=await t.auth.getUser();if(!r)return o("error","/sign-in","You must be logged in to delete content");let a=e.get("id")?.toString();if(!a)return o("error","/dashboard","Post ID is required");let{data:s,error:i}=await t.from("posts").select("*").eq("id",a).eq("author_id",r.id).single();if(i||!s)return o("error","/dashboard","Post not found or you don't have permission to delete it");let{error:n}=await t.from("posts").delete().eq("id",a);return n?(console.error("Error deleting post:",n),o("error","/dashboard",n.message)):o("success","/dashboard","Content deleted successfully")},x=async()=>{let e=await d(),{data:t,error:r}=await e.from("categories").select("*").order("name");return r?(console.error("Error fetching categories:",r),[]):t||[]};(0,l.D)([c,u,p,f,m,g,h,b,x]),(0,a.A)(c,"7f3728b92a2d78bf7a86facde23b90da1883d53144",null),(0,a.A)(u,"7f6275a1524e79c3243dc1fedf334425820e432cd4",null),(0,a.A)(p,"7f9463dc7b9a2c337fd3b73916c5b97671cb1e1d4c",null),(0,a.A)(f,"7f30afc04a541fc57d666a4122f418c7301e3cf826",null),(0,a.A)(m,"7fcb6739099b435db524b88587bd200e67af8b5da9",null),(0,a.A)(g,"7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99",null),(0,a.A)(h,"7f82ff53fd87c8683b6b50e57c297e8e38127be148",null),(0,a.A)(b,"7f20133d1175a37581b658cd5dc4f0a6d3753d65a5",null),(0,a.A)(x,"7f7e3c45e161623da7715e291486381f032f22ad1d",null)},40919:(e,t,r)=>{"use strict";r.d(t,{SubmitButton:()=>i});var a=r(60687),s=r(29523),o=r(51215);function i({children:e,pendingText:t="Submitting...",...r}){let{pending:i}=(0,o.useFormStatus)();return(0,a.jsx)(s.$,{type:"submit","aria-disabled":i,...r,children:i?t:e})}},56197:(e,t,r)=>{Promise.resolve().then(r.bind(r,474)),Promise.resolve().then(r.bind(r,91005))},62277:(e,t,r)=>{Promise.resolve().then(r.bind(r,98181)),Promise.resolve().then(r.bind(r,68641))},68641:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\carlo\\\\OneDrive\\\\Documents\\\\JavaScript\\\\blogsite_carlo\\\\src\\\\components\\\\post-form.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\carlo\\OneDrive\\Documents\\JavaScript\\blogsite_carlo\\src\\components\\post-form.tsx","default")},91005:(e,t,r)=>{"use strict";r.d(t,{default:()=>L});var a=r(60687),s=r(29523),o=r(43210),i=r(4780);let n=o.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));n.displayName="Input";let d=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));d.displayName="Textarea";var l=r(78148);let c=(0,r(24224).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)(l.Root,{ref:r,className:(0,i.cn)(c(),e),...t}));u.displayName=l.Root.displayName;var p=r(98599),f=r(11273),m=r(70569),g=r(65551),h=r(18853),b=r(46059),x=r(14163),y="Checkbox",[w,v]=(0,f.A)(y),[j,k]=w(y),S=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:s,checked:i,defaultChecked:n,required:d,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[b,y]=o.useState(null),w=(0,p.s)(t,e=>y(e)),v=o.useRef(!1),k=!b||f||!!b.closest("form"),[S=!1,N]=(0,g.i)({prop:i,defaultProp:n,onChange:u}),C=o.useRef(S);return o.useEffect(()=>{let e=b?.form;if(e){let t=()=>N(C.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,N]),(0,a.jsxs)(j,{scope:r,state:S,disabled:l,children:[(0,a.jsx)(x.sG.button,{type:"button",role:"checkbox","aria-checked":E(S)?"mixed":S,"aria-required":d,"data-state":_(S),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:w,onKeyDown:(0,m.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,m.m)(e.onClick,e=>{N(e=>!!E(e)||!e),k&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),k&&(0,a.jsx)(I,{control:b,bubbles:!v.current,name:s,value:c,checked:S,required:d,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!E(n)&&n})]})});S.displayName=y;var N="CheckboxIndicator",C=o.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...o}=e,i=k(N,r);return(0,a.jsx)(b.C,{present:s||E(i.state)||!0===i.state,children:(0,a.jsx)(x.sG.span,{"data-state":_(i.state),"data-disabled":i.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});C.displayName=N;var I=e=>{let{control:t,checked:r,bubbles:s=!0,defaultChecked:i,...n}=e,d=o.useRef(null),l=function(e){let t=o.useRef({value:e,previous:e});return o.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),c=(0,h.X)(t);o.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let a=new Event("click",{bubbles:s});e.indeterminate=E(r),t.call(e,!E(r)&&r),e.dispatchEvent(a)}},[l,r,s]);let u=o.useRef(!E(r)&&r);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...n,tabIndex:-1,ref:d,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function E(e){return"indeterminate"===e}function _(e){return E(e)?"indeterminate":e?"checked":"unchecked"}var A=r(89698);let R=o.forwardRef(({className:e,...t},r)=>(0,a.jsx)(S,{ref:r,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,a.jsx)(C,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(A.Srz,{className:"h-4 w-4"})})}));R.displayName=S.displayName;var q=r(40919),P=r(62688);let D=(0,P.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);var M=r(13861);let U=(0,P.A)("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);var T=r(6475);T.callServer,T.findSourceMapURL;let O=(0,T.createServerReference)("7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99",T.callServer,void 0,T.findSourceMapURL,"createPostAction"),F=(0,T.createServerReference)("7f82ff53fd87c8683b6b50e57c297e8e38127be148",T.callServer,void 0,T.findSourceMapURL,"updatePostAction");function L({post:e,mode:t}){let[r,i]=(0,o.useState)([]),[l,c]=(0,o.useState)(e?.categories||[]),[p,f]=(0,o.useState)(e?.content_type||"blog"),m=(e,t)=>{t?c([...l,e]):c(l.filter(t=>t!==e))};return(0,a.jsxs)("form",{action:"create"===t?O:F,className:"space-y-6",children:[(0,a.jsx)("input",{type:"hidden",name:"published",value:"true"}),"edit"===t&&e&&(0,a.jsx)("input",{type:"hidden",name:"id",value:e.id}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"title",children:"Title"}),(0,a.jsx)(n,{id:"title",name:"title",placeholder:"Give your thoughts a meaningful title",defaultValue:e?.title||"",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"excerpt",children:"Excerpt"}),(0,a.jsx)(d,{id:"excerpt",name:"excerpt",placeholder:"Summarize your emotional journey briefly",defaultValue:e?.excerpt||"",rows:2})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"content",children:"Content"}),(0,a.jsx)(d,{id:"content",name:"content",placeholder:"Write your thoughts... no judgment here.",defaultValue:e?.content||"",required:!0,rows:10,className:"min-h-[200px]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{htmlFor:"featuredImage",children:"Featured Image URL"}),(0,a.jsx)(n,{id:"featuredImage",name:"featuredImage",placeholder:"https://example.com/emotional-image.jpg",defaultValue:e?.featured_image||""})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{children:"Content Type"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2",children:[(0,a.jsxs)("label",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-lg",children:[(0,a.jsx)("input",{type:"radio",name:"contentType",value:"blog",checked:"blog"===p,onChange:()=>f("blog"),className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(D,{className:"h-4 w-4 text-blue-600"}),"Expressing Hidden Thoughts"]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 bg-green-50 px-4 py-2 rounded-lg",children:[(0,a.jsx)("input",{type:"radio",name:"contentType",value:"guide",checked:"guide"===p,onChange:()=>f("guide"),className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 text-green-600"}),"Decoding Emotional Signals"]})]}),(0,a.jsxs)("label",{className:"flex items-center space-x-2 bg-purple-50 px-4 py-2 rounded-lg",children:[(0,a.jsx)("input",{type:"radio",name:"contentType",value:"comparison",checked:"comparison"===p,onChange:()=>f("comparison"),className:"h-4 w-4"}),(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(U,{className:"h-4 w-4 text-purple-600"}),"Navigating Silent Conversations"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u,{children:"Themes"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:r.map(e=>(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)(R,{name:"categories",value:e.id,checked:l.includes(e.id),onCheckedChange:t=>m(e.id,!0===t)}),(0,a.jsx)("span",{className:"capitalize",children:e.name.replace(/_/g," ")})]},e.id))})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(R,{id:"published",name:"published",value:"true",defaultChecked:e?.published||!1}),(0,a.jsx)(u,{htmlFor:"published",children:"Post this thoughts in public."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(s.$,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),(0,a.jsx)(q.SubmitButton,{children:"create"===t?"Share Your Story":"Update"})]})]})}}};