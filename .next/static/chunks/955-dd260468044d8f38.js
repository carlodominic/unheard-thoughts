(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{77:(e,t,a)=>{"use strict";a.d(t,{default:()=>Z});var r=a(5155),s=a(285),n=a(2115),i=a(9434);let l=n.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});l.displayName="Input";let d=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...s})});d.displayName="Textarea";var o=a(968);let c=(0,a(2085).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.Root,{ref:t,className:(0,i.cn)(c(),a),...s})});u.displayName=o.Root.displayName;var p=a(6101),m=a(6081),f=a(5185),h=a(5845),x=a(1275),b=a(8905),v=a(3655),y="Checkbox",[g,j]=(0,m.A)(y),[N,w]=g(y),k=n.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:s,checked:i,defaultChecked:l,required:d,disabled:o,value:c="on",onCheckedChange:u,form:m,...x}=e,[b,y]=n.useState(null),g=(0,p.s)(t,e=>y(e)),j=n.useRef(!1),w=!b||m||!!b.closest("form"),[k=!1,R]=(0,h.i)({prop:i,defaultProp:l,onChange:u}),S=n.useRef(k);return n.useEffect(()=>{let e=null==b?void 0:b.form;if(e){let t=()=>R(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[b,R]),(0,r.jsxs)(N,{scope:a,state:k,disabled:o,children:[(0,r.jsx)(v.sG.button,{type:"button",role:"checkbox","aria-checked":I(k)?"mixed":k,"aria-required":d,"data-state":M(k),"data-disabled":o?"":void 0,disabled:o,value:c,...x,ref:g,onKeyDown:(0,f.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,f.m)(e.onClick,e=>{R(e=>!!I(e)||!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&(0,r.jsx)(C,{control:b,bubbles:!j.current,name:s,value:c,checked:k,required:d,disabled:o,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!I(l)&&l})]})});k.displayName=y;var R="CheckboxIndicator",S=n.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:s,...n}=e,i=w(R,a);return(0,r.jsx)(b.C,{present:s||I(i.state)||!0===i.state,children:(0,r.jsx)(v.sG.span,{"data-state":M(i.state),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});S.displayName=R;var C=e=>{let{control:t,checked:a,bubbles:s=!0,defaultChecked:i,...l}=e,d=n.useRef(null),o=function(e){let t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(a),c=(0,x.X)(t);n.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let r=new Event("click",{bubbles:s});e.indeterminate=I(a),t.call(e,!I(a)&&a),e.dispatchEvent(r)}},[o,a,s]);let u=n.useRef(!I(a)&&a);return(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=i?i:u.current,...l,tabIndex:-1,ref:d,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function I(e){return"indeterminate"===e}function M(e){return I(e)?"indeterminate":e?"checked":"unchecked"}var E=a(3096);let z=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(k,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...s,children:(0,r.jsx)(S,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(E.Srz,{className:"h-4 w-4"})})})});z.displayName=k.displayName;var A=a(5745),P=a(9946);let D=(0,P.A)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);var U=a(2657);let V=(0,P.A)("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);var _=a(4477);let L=(0,_.createServerReference)("7f7e3c45e161623da7715e291486381f032f22ad1d",_.callServer,void 0,_.findSourceMapURL,"getCategories"),q=(0,_.createServerReference)("7f6cd82d88a3a0e212b46b5c0154e6336e0ecb1e99",_.callServer,void 0,_.findSourceMapURL,"createPostAction"),F=(0,_.createServerReference)("7f82ff53fd87c8683b6b50e57c297e8e38127be148",_.callServer,void 0,_.findSourceMapURL,"updatePostAction");function Z(e){let{post:t,mode:a}=e,[i,o]=(0,n.useState)([]),[c,p]=(0,n.useState)((null==t?void 0:t.categories)||[]),[m,f]=(0,n.useState)((null==t?void 0:t.content_type)||"blog");(0,n.useEffect)(()=>{(async()=>{o(await L())})()},[]);let h=(e,t)=>{t?p([...c,e]):p(c.filter(t=>t!==e))};return(0,r.jsxs)("form",{action:"create"===a?q:F,className:"space-y-6",children:[(0,r.jsx)("input",{type:"hidden",name:"published",value:"true"}),"edit"===a&&t&&(0,r.jsx)("input",{type:"hidden",name:"id",value:t.id}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{htmlFor:"title",children:"Title"}),(0,r.jsx)(l,{id:"title",name:"title",placeholder:"Give your thoughts a meaningful title",defaultValue:(null==t?void 0:t.title)||"",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{htmlFor:"excerpt",children:"Excerpt"}),(0,r.jsx)(d,{id:"excerpt",name:"excerpt",placeholder:"Summarize your emotional journey briefly",defaultValue:(null==t?void 0:t.excerpt)||"",rows:2})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{htmlFor:"content",children:"Content"}),(0,r.jsx)(d,{id:"content",name:"content",placeholder:"Write your thoughts... no judgment here.",defaultValue:(null==t?void 0:t.content)||"",required:!0,rows:10,className:"min-h-[200px]"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{htmlFor:"featuredImage",children:"Featured Image URL"}),(0,r.jsx)(l,{id:"featuredImage",name:"featuredImage",placeholder:"https://example.com/emotional-image.jpg",defaultValue:(null==t?void 0:t.featured_image)||""})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{children:"Content Type"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 mt-2",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2 bg-blue-50 px-4 py-2 rounded-lg",children:[(0,r.jsx)("input",{type:"radio",name:"contentType",value:"blog",checked:"blog"===m,onChange:()=>f("blog"),className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(D,{className:"h-4 w-4 text-blue-600"}),"Expressing Hidden Thoughts"]})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2 bg-green-50 px-4 py-2 rounded-lg",children:[(0,r.jsx)("input",{type:"radio",name:"contentType",value:"guide",checked:"guide"===m,onChange:()=>f("guide"),className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(U.A,{className:"h-4 w-4 text-green-600"}),"Decoding Emotional Signals"]})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2 bg-purple-50 px-4 py-2 rounded-lg",children:[(0,r.jsx)("input",{type:"radio",name:"contentType",value:"comparison",checked:"comparison"===m,onChange:()=>f("comparison"),className:"h-4 w-4"}),(0,r.jsxs)("span",{className:"flex items-center gap-2",children:[(0,r.jsx)(V,{className:"h-4 w-4 text-purple-600"}),"Navigating Silent Conversations"]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{children:"Themes"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2",children:i.map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z,{name:"categories",value:e.id,checked:c.includes(e.id),onCheckedChange:t=>h(e.id,!0===t)}),(0,r.jsx)("span",{className:"capitalize",children:e.name.replace(/_/g," ")})]},e.id))})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(z,{id:"published",name:"published",value:"true",defaultChecked:(null==t?void 0:t.published)||!1}),(0,r.jsx)(u,{htmlFor:"published",children:"Post this thoughts in public."})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)(s.$,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),(0,r.jsx)(A.SubmitButton,{children:"create"===a?"Share Your Story":"Update"})]})]})}},285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>d});var r=a(5155),s=a(2115),n=a(9708),i=a(2085),l=a(9434);let d=(0,i.F)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});o.displayName="Button"},968:(e,t,a)=>{"use strict";a.d(t,{Root:()=>l});var r=a(2115),s=a(3655),n=a(5155),i=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},1955:(e,t,a)=>{Promise.resolve().then(a.bind(a,5570)),Promise.resolve().then(a.bind(a,77))},2657:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4477:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return s.findSourceMapURL}});let r=a(3806),s=a(1818),n=a(4979).createServerReference},4838:(e,t,a)=>{"use strict";a.d(t,{SQ:()=>c,_2:()=>u,lp:()=>p,mB:()=>m,rI:()=>d,ty:()=>o});var r=a(5155),s=a(2115),n=a(5274),i=a(3096),l=a(9434);let d=n.bL,o=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:d,...o}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,l.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...o,children:[d,(0,r.jsx)(i.vKP,{className:"ml-auto h-4 w-4"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})}).displayName=n.G5.displayName;let c=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});c.displayName=n.UC.displayName;let u=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...i})});u.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:d,...o}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:d,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.Srz,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(i.RiX,{className:"h-4 w-4 fill-current"})})}),s]})}).displayName=n.hN.displayName;let p=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...i})});p.displayName=n.JU.displayName;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});m.displayName=n.wv.displayName},5570:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(5155),s=a(6874),n=a.n(s),i=a(9942),l=a(4838),d=a(285),o=a(9772),c=a(5695);let u=(0,a(9946).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function p(){let e=(0,i.U)(),t=(0,c.useRouter)();return(0,r.jsx)("nav",{className:"w-full border-b border-gray-200 bg-white py-4",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)(n(),{href:"/",prefetch:!0,className:"text-2xl font-bold text-black-600 flex items-center",children:[(0,r.jsx)(u,{className:"mr-2 h-6 w-6"}),"UnheardThoughts"]})}),(0,r.jsx)("div",{className:"flex gap-4 items-center",children:(0,r.jsxs)(l.rI,{children:[(0,r.jsx)(l.ty,{asChild:!0,children:(0,r.jsx)(d.$,{variant:"ghost",size:"icon",children:(0,r.jsx)(o.A,{className:"h-6 w-6"})})}),(0,r.jsx)(l.SQ,{align:"end",children:(0,r.jsx)(l._2,{onClick:async()=>{await e.auth.signOut(),t.refresh()},children:"Sign out"})})]})})]})})}},5745:(e,t,a)=>{"use strict";a.d(t,{SubmitButton:()=>i});var r=a(5155),s=a(285),n=a(7650);function i(e){let{children:t,pendingText:a="Submitting...",...i}=e,{pending:l}=(0,n.useFormStatus)();return(0,r.jsx)(s.$,{type:"submit","aria-disabled":l,...i,children:l?a:t})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(2596),s=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}},9942:(e,t,a)=>{"use strict";a.d(t,{U:()=>s});var r=a(1935);let s=()=>(0,r.createBrowserClient)("https://vlomchriquuplotggqur.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZsb21jaHJpcXV1cGxvdGdncXVyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg1ODgxNDQsImV4cCI6MjA2NDE2NDE0NH0.qEDmkmU-_0YwZAI4r-wDVxiR5E3RVEKA_V11uvR60Is")}}]);